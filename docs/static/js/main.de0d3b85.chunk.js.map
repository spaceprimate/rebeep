{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["audio","window","AudioContext","scale","keyboardMapping","StyledSlider","withStyles","thumb","height","width","backgroundColor","boxShadow","border","fade","track","trackBefore","trackAfter","focused","activated","jumped","Slider","App","props","setAmplitude","v","config","amplitude","setAttack","attack","setDecay","decay","setOsc1","waveType","target","name","tock","setMod1","modType","setState","tick","state","setModRate","modFrequency","console","log","setTempo","tempo","setModAmount","modAmount","setKeysKeysAmplitude","configKeys","setKeysAttack","setKeysDecay","setKeysOsc1","setKeysMod1","setKeysAmplitude","setKeysModRate","setKeysTempo","setKeysModAmount","handleResize","mainWidth","innerWidth","showControls","windowHeight","innerHeight","windowWidth","beep","freq","frequency","Beep","rhythm","createEmptyRhythm","curBeat","isPlaying","undefined","mouseIsDown","timerId","attackRange","decayRange","types","amplitudeRange","modTypes","modFrequencyRange","modAmountRange","tempoRange","this","setTimeout","playBeat","convertTempo","clearInterval","forEach","i","e","addEventListener","removeEventListener","col","row","myRhythm","slice","setBeat","that","classes","controlsClassName","classname","mainClassName","toString","beeps","map","className","Math","ceil","key","cn","onMouseDown","handleMouseDown","onMouseEnter","handleMouseEnter","onMouseUp","handleMouseUp","hidden","onClick","startRhythm","stopRhythm","settingsToggle","init","handleChange","min","max","step","title","id","React","Component","SimpleSlider","value","event","onChange","Key","active","handleDown","bind","handleUp","handleOut","handleEnter","JSON","parse","stringify","fadeOut","mouseDown","keyEventName","KEYDOWN","keyValue","onKeyHandle","KEYUP","onMouseLeave","Keyboard","Controls","osc1","t","src","mod1","sliderWrap","keyboard","gain","createGain","osc","createOscillator","maxGain","isKeyboard","connect","destination","setValueAtTime","currentTime","linearRampToValueAtTime","type","start","gain2","osc2","stop","disconnect","kill","numberBeats","numberNotes","arr","column","push","body","font","Typography","color","fontFamily","text","slider","padding","toolbarIcon","display","alignItems","justifyContent","document","onmousedown","onmouseup","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.de0d3b85.chunk.js","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\n\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrowOutlined';\r\nimport StopIcon from '@material-ui/icons/StopOutlined';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\n\r\nimport SettingsIcon from '@material-ui/icons/SettingsOutlined';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { Typography } from '@material-ui/core';\r\nimport Slider from '@material-ui/lab/Slider';\r\nimport List from '@material-ui/core/List';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\n\r\n\r\n// import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport KeyHandler, { KEYPRESS, KEYUP, KEYDOWN } from 'react-key-handler';\r\n\r\n// import MuiThemeProvider from '@material-ui/core/MuiThemeProvider';\r\n// import getMuiTheme from 'material-ui/lib/styles/getMuiTheme';S\r\n\r\n\r\n\r\nconst audio = new window.AudioContext();\r\n\r\n\r\n\r\n\r\n/**\r\n * to do: \r\n *  - \r\n * \r\n * \r\n * \r\n */\r\n\r\n// pentatonic scale, from: http://www.angelfire.com/in2/yala/t4scales.htm\r\nconst scale = [\r\n  932.33,\r\n  830.609,\r\n  739.989,\r\n  622.254,\r\n  554.365,\r\n  466.164,\r\n  415.305,\r\n  369.994,\r\n  311.127,\r\n  277.183,\r\n  233.082,\r\n  207.652,\r\n  184.997,\r\n  155.563,\r\n  138.591,\r\n  116.54\r\n];\r\n\r\nconst keyboardMapping = [\r\n    'p',\r\n    'o',\r\n    'i',\r\n    'u',\r\n    ';',\r\n    'l',\r\n    'k',\r\n    'j',\r\n    'r',\r\n    'e',\r\n    'w',\r\n    'q',\r\n    'f',\r\n    'd',\r\n    's',\r\n    'a'\r\n];\r\n\r\n\r\n// const scale = [\r\n//   200.0,\r\n//   200.0,\r\n//   200.0,\r\n//   200.0,\r\n//   200.0,\r\n//   200.0,\r\n//   200.0,\r\n//   200.0,\r\n//   200.0,\r\n//   200.0,\r\n//   200.0,\r\n//   200.0,\r\n//   200.0,\r\n//   200.0,\r\n// ];\r\n\r\n\r\nconst styles = {\r\n  body:{\r\n    font: 'IBM Plex Mono'\r\n  },\r\n  Typography: {\r\n    color: 'orange',\r\n    fontFamily: 'IBM Plex Mono'\r\n  },\r\n  text: {\r\n    color: 'orange',\r\n  },\r\n  sliderWrap: {\r\n    width: 250,\r\n  },\r\n  slider: {\r\n    padding: '22px 0px',\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    // ...theme.mixins.toolbar,\r\n  },\r\n};\r\n\r\n/*\r\n===================================================================================================\r\n===================================================================================================\r\n.d8888. d888888b db    db db      d88888b .d8888. \r\n88'  YP `~~88~~' `8b  d8' 88      88'     88'  YP \r\n`8bo.      88     `8bd8'  88      88ooooo `8bo.   \r\n  `Y8b.    88       88    88      88~~~~~   `Y8b. \r\ndb   8D    88       88    88booo. 88.     db   8D \r\n`8888Y'    YP       YP    Y88888P Y88888P `8888Y' \r\n===================================================================================================\r\n===================================================================================================                               \r\n*/\r\nconst StyledSlider = withStyles({\r\n  thumb: {\r\n    height: 18,\r\n    width: 18,\r\n    backgroundColor: '#000',\r\n    boxShadow: 'orange 0px 0px 11px 1px',\r\n    border: '1px solid #FFA500',\r\n    '&$focused, &:hover': {\r\n      boxShadow: `0px 0px 0px ${8}px ${fade('#FFA500', 0.16)}`,\r\n    },\r\n    '&$activated': {\r\n      boxShadow: `0px 0px 0px ${8 * 1.5}px ${fade('#FFA500', 0.16)}`,\r\n    },\r\n    '&$jumped': {\r\n      boxShadow: `0px 0px 0px ${8 * 1.5}px ${fade('#FFA500', 0.16)}`,\r\n    },\r\n  },\r\n  track: {\r\n    backgroundColor: '#FFA500',\r\n    height: 3,\r\n  },\r\n  trackBefore: {\r\n    boxShadow: 'orange -7px 0px 11px 1px',\r\n  },\r\n  trackAfter: {\r\n    backgroundColor: '#d0d7dc',\r\n  },\r\n  focused: {},\r\n  activated: {},\r\n  jumped: {},\r\n})(Slider);\r\n\r\n\r\n/*\r\n===================================================================================================\r\n===================================================================================================\r\n .d8b.  d8888b. d8888b. \r\nd8' `8b 88  `8D 88  `8D \r\n88ooo88 88oodD' 88oodD' \r\n88~~~88 88~~~   88~~~   \r\n88   88 88      88      \r\nYP   YP 88      88      \r\n===================================================================================================\r\n===================================================================================================                               \r\n*/\r\nclass App extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    \r\n\r\n    this.state = {\r\n      rhythm : createEmptyRhythm(16, 16),\r\n      curBeat: 0,\r\n      isPlaying : false,\r\n      amplitude : 50,\r\n      showControls: false,\r\n      windowHeight: undefined,\r\n      windowWidth: undefined,\r\n      mainWidth: undefined,\r\n      tick: true\r\n    };\r\n\r\n    this.mouseIsDown = false;\r\n\r\n    \r\n    this.timerId = null;\r\n    // this.curBeat = 0;\r\n    // this.isPlayer = false;\r\n\r\n    this.config = {\r\n      attack: 10,\r\n      attackRange: [0,2000,10],\r\n      decay: 1100,\r\n      decayRange: [0,2000,10],\r\n      frequency: 440,\r\n      waveType: \"sine\",\r\n      types: [\"sine\", \"square\", \"sawtooth\", \"triangle\"],\r\n      amplitude: .15,\r\n      amplitudeRange: [0,.35,.01],\r\n      modType: \"sine\",\r\n      modTypes: [\"sine\", \"square\", \"sawtooth\", \"triangle\"],\r\n      modFrequency: 22,\r\n      modFrequencyRange: [0,200,1],\r\n      modAmount: 7.2,\r\n      modAmountRange: [0,600,1],\r\n      tempo: 75,\r\n      tempoRange: [1, 300, 1],\r\n    };\r\n\r\n    this.configKeys = {\r\n      attack: 10,\r\n      attackRange: [0,2000,10],\r\n      decay: 1100,\r\n      decayRange: [0,2000,10],\r\n      frequency: 440,\r\n      waveType: \"sine\",\r\n      types: [\"sine\", \"square\", \"sawtooth\", \"triangle\"],\r\n      amplitude: .15,\r\n      amplitudeRange: [0,.35,.01],\r\n      modType: \"sine\",\r\n      modTypes: [\"sine\", \"square\", \"sawtooth\", \"triangle\"],\r\n      modFrequency: 22,\r\n      modFrequencyRange: [0,200,1],\r\n      modAmount: 7.2,\r\n      modAmountRange: [0,600,1],\r\n      tempo: 75,\r\n      tempoRange: [1, 300, 1],\r\n    };\r\n\r\n//init 50 157a\r\n    \r\n  }\r\n\r\n/*\r\n===================================================================================================\r\n===================================================================================================\r\n .d8b.  d8888b. d8888b.      .88b  d88. d88888b d888888b db   db  .d88b.  d8888b. .d8888. \r\nd8' `8b 88  `8D 88  `8D      88'YbdP`88 88'     `~~88~~' 88   88 .8P  Y8. 88  `8D 88'  YP \r\n88ooo88 88oodD' 88oodD'      88  88  88 88ooooo    88    88ooo88 88    88 88   88 `8bo.   \r\n88~~~88 88~~~   88~~~        88  88  88 88~~~~~    88    88~~~88 88    88 88   88   `Y8b. \r\n88   88 88      88           88  88  88 88.        88    88   88 `8b  d8' 88  .8D db   8D \r\nYP   YP 88      88           YP  YP  YP Y88888P    YP    YP   YP  `Y88P'  Y8888D' `8888Y'\r\n===================================================================================================\r\n===================================================================================================                               \r\n*/\r\n\r\n  setAmplitude = (v) => {\r\n    this.config.amplitude = v;\r\n  };\r\n\r\n\r\n\r\n  setAttack = (v) => {\r\n    this.config.attack = v;\r\n  };\r\n\r\n  setDecay = (v) => {\r\n    this.config.decay = v;\r\n  };\r\n\r\n  setOsc1 = (v) => {\r\n    this.config.waveType = v.target.name;\r\n    this.tock();\r\n  };\r\n\r\n  setMod1 = (v) => {\r\n    this.config.modType = v.target.name;\r\n    this.tock();\r\n  };\r\n\r\n  //arbitrarily updates state\r\n  tock = ()=>{\r\n    this.setState({tick:!this.state.tick});\r\n  };\r\n\r\n\r\n  setAmplitude = (v) => {\r\n    this.config.amplitude = v;\r\n  };\r\n\r\n  setModRate = (v) => {\r\n    this.config.modFrequency = (v * (.005*v)); // initial values grow slowly\r\n    console.log(v);\r\n  };\r\n\r\n  setTempo = (v) => {\r\n    this.config.tempo = v;\r\n    console.log(this.config.tempo);\r\n  };\r\n\r\n  setModAmount = (v) => {\r\n    this.config.modAmount = (v * (.001*v)); // initial values grow slowly\r\n    console.log(v);\r\n  };\r\n\r\n  //todo: eventually this should have such redundant code:\r\n  setKeysKeysAmplitude = (v) => {\r\n    this.configKeys.amplitude = v;\r\n  };\r\n\r\n\r\n\r\n  setKeysAttack = (v) => {\r\n    this.configKeys.attack = v;\r\n  };\r\n\r\n  setKeysDecay = (v) => {\r\n    this.configKeys.decay = v;\r\n  };\r\n\r\n  setKeysOsc1 = (v) => {\r\n    this.configKeys.waveType = v.target.name;\r\n    this.tock();\r\n  };\r\n\r\n  setKeysMod1 = (v) => {\r\n    this.configKeys.modType = v.target.name;\r\n    this.tock();\r\n  };\r\n\r\n  setKeysAmplitude = (v) => {\r\n    this.configKeys.amplitude = v;\r\n  };\r\n\r\n  setKeysModRate = (v) => {\r\n    this.configKeys.modFrequency = (v * (.005*v)); // initial values grow slowly\r\n    console.log(v);\r\n  };\r\n\r\n  setKeysTempo = (v) => {\r\n    this.configKeys.tempo = v;\r\n    console.log(this.config.tempo);\r\n  };\r\n\r\n  setKeysModAmount = (v) => {\r\n    this.configKeys.modAmount = (v * (.001*v)); // initial values grow slowly\r\n    console.log(v);\r\n  };\r\n\r\n  startRhythm(){\r\n    // this.timerId = setInterval(()=>{beep(),2000});\r\n    if(!this.state.isPlaying){\r\n      this.timerId = setTimeout(() => this.playBeat(), convertTempo(this.config.tempo));\r\n    }\r\n    this.setState({isPlaying:true});\r\n    \r\n\r\n  }\r\n\r\n\r\n\r\n  stopRhythm(){\r\n    clearInterval(this.timerId);\r\n    // this.setState({isPlaying:false});\r\n    // this.curBeat = 0;\r\n    this.setState({\r\n      curBeat : 0,\r\n      isPlaying: false,\r\n    });\r\n  }\r\n\r\n  playBeat(){\r\n    // console.log(\"curbeat\");\r\n    // console.log(this.curBeat);\r\n    this.state.rhythm[this.state.curBeat].forEach((i,e)=>{\r\n      if(i){\r\n        this.beep(scale[e]);\r\n      }\r\n    });\r\n    if(this.state.curBeat < 15){\r\n      let i = this.state.curBeat + 1;\r\n      this.setState({\r\n        curBeat: i,\r\n      });\r\n    }\r\n    else{\r\n      this.setState({\r\n        curBeat: 0,\r\n      });\r\n    }\r\n\r\n    this.timerId = setTimeout(() => this.playBeat(), convertTempo(this.config.tempo));\r\n    \r\n  }\r\n\r\n  handleResize = () => {\r\n    let mainWidth = window.innerWidth;\r\n    if (this.state.showControls){\r\n      mainWidth -= 250;\r\n    }\r\n    this.setState({\r\n      windowHeight: window.innerHeight,\r\n      windowWidth: window.innerWidth,\r\n      mainWidth: mainWidth,\r\n    })\r\n  };\r\n\r\n  /**\r\n   * Add event listener\r\n   */\r\n  componentDidMount() {\r\n    this.handleResize();\r\n    window.addEventListener('resize', this.handleResize)\r\n  }\r\n\r\n  /**\r\n   * Remove event listener\r\n   */\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.handleResize)\r\n  }\r\n\r\n  settingsToggle(){\r\n    this.setState({\r\n      showControls: !this.state.showControls,\r\n    })\r\n  }\r\n\r\n  setBeat(col, row){\r\n    let myRhythm = this.state.rhythm.slice();\r\n    myRhythm[col][row] = !this.state.rhythm[col][row];\r\n    this.setState({myRhythm});\r\n    \r\n  };\r\n\r\n  handleMouseDown(col,row){\r\n    this.mouseIsDown = true;\r\n    this.setBeat(col,row);\r\n  }\r\n\r\n  handleMouseUp(){\r\n    this.mouseIsDown = false;\r\n  }\r\n\r\n  handleMouseEnter(col,row){\r\n    if(this.mouseIsDown){\r\n      this.setBeat(col,row);\r\n    }\r\n  }\r\n\r\n  handleMouseOut(){\r\n    this.mouseIsDown = false;\r\n  }\r\n\r\n  beep = (freq) => {\r\n    let config = {\r\n      attack: this.config.attack,\r\n      decay: this.config.decay,\r\n      frequency: freq,\r\n      waveType: this.config.waveType,\r\n      amplitude: this.config.amplitude,\r\n      modType: this.config.modType,\r\n      modFrequency: this.config.modFrequency,\r\n      modAmount: this.config.modAmount\r\n    }\r\n\r\n    let b = new Beep(config, config.frequency);\r\n    console.log(\"beeped\");\r\n\r\n  };\r\n\r\n\r\n/*\r\n===================================================================================================\r\n===================================================================================================\r\n .d8b.  d8888b. d8888b.                  d8888b. d88888b d8b   db d8888b. d88888b d8888b. \r\nd8' `8b 88  `8D 88  `8D                  88  `8D 88'     888o  88 88  `8D 88'     88  `8D \r\n88ooo88 88oodD' 88oodD'                  88oobY' 88ooooo 88V8o 88 88   88 88ooooo 88oobY' \r\n88~~~88 88~~~   88~~~        C8888D      88`8b   88~~~~~ 88 V8o88 88   88 88~~~~~ 88`8b   \r\n88   88 88      88                       88 `88. 88.     88  V888 88  .8D 88.     88 `88. \r\nYP   YP 88      88                       88   YD Y88888P VP   V8P Y8888D' Y88888P 88   YD \r\n===================================================================================================\r\n===================================================================================================                               \r\n*/\r\n  render(){\r\n    let that = this;\r\n\r\n    const { classes } = this.props;\r\n    //slider\r\n    // const { amplitude } = this.state.amplitude;\r\n\r\n    //handle open/closed state for controls and main sections\r\n    const controlsClassName = (() => {\r\n      let classname = (this.state.showControls ? 'open ' : 'closed ');\r\n      classname += 'controls';\r\n      return classname;\r\n    })();\r\n\r\n    const mainClassName = (() => {\r\n      let classname = (this.state.showControls ? 'show-controls ' : '');\r\n      classname += 'main';\r\n      return classname;\r\n    })();\r\n\r\n    const keyClassName = (() => {\r\n        let classname = (this.state.showControls ? 'show-controls ' : '');\r\n        classname += 'main';\r\n        return classname;\r\n    })();\r\n\r\n    const beepSize = ((this.state.windowWidth / 16)-2).toString() + 'px';\r\n    console.log(\"beep size was rendered\");\r\n\r\n    const beeps = this.state.rhythm.map((col, i)=>{\r\n      \r\n      return (\r\n        <div className={(Math.ceil((i + 1)/4)%2===0) ? 'beep-col even' : 'beep-col odd'} key={i} >\r\n        {/*<div className={(Math.ceil((i + 1)/4)%2===0) ? 'beep-col even' : 'beep-col odd'} key={i} style={{width: beepSize  }}>*/}\r\n          {\r\n          col.map((row, e)=>{\r\n            let cn = (i === this.state.curBeat && this.state.isPlaying) ? 'active' : 'inactive';\r\n            cn += (this.state.rhythm[i][e] ? ' on' : ' off')\r\n            return(\r\n              <div className={'beep'} \r\n                onMouseDown={()=>that.handleMouseDown(i,e)} \r\n                onMouseEnter={()=>that.handleMouseEnter(i,e)}\r\n                onMouseUp={()=>that.handleMouseUp(i,e)}\r\n                \r\n                key={e}\r\n              >\r\n                <div className={'beep-inner ' + cn} />\r\n              </div>\r\n            );\r\n          })\r\n        }\r\n        </div>\r\n      )\r\n    });\r\n\r\n/*\r\n===================================================================================================\r\n===================================================================================================\r\n .d8b.  d8888b. d8888b.                  d8888b. d88888b d888888b db    db d8888b. d8b   db \r\nd8' `8b 88  `8D 88  `8D                  88  `8D 88'     `~~88~~' 88    88 88  `8D 888o  88 \r\n88ooo88 88oodD' 88oodD'                  88oobY' 88ooooo    88    88    88 88oobY' 88V8o 88 \r\n88~~~88 88~~~   88~~~        C8888D      88`8b   88~~~~~    88    88    88 88`8b   88 V8o88 \r\n88   88 88      88                       88 `88. 88.        88    88b  d88 88 `88. 88  V888 \r\nYP   YP 88      88                       88   YD Y88888P    YP    ~Y8888P' 88   YD VP   V8P \r\n===================================================================================================\r\n===================================================================================================                               \r\n*/\r\n    return (\r\n      \r\n      <div >\r\n        <AppBar className={'appbar'}>\r\n          <Toolbar className={'toolbar'} >\r\n          <div className=\"playstop\">\r\n            \r\n            <span hidden={this.state.isPlaying} className={'play-icon icon'}>\r\n            <PlayArrowIcon \r\n              onClick={()=>{this.startRhythm()}}\r\n              \r\n            />\r\n            </span>\r\n            <span hidden={!this.state.isPlaying} className={'stop-icon icon'}>\r\n              <StopIcon \r\n                onClick={()=>{this.stopRhythm()}}\r\n                \r\n                hidden={!this.state.isPlaying}\r\n              />\r\n            </span>\r\n            <span className={'settings-icon icon'}>\r\n              <SettingsIcon \r\n                onClick={()=>{this.settingsToggle()}}\r\n              />\r\n            </span>\r\n\r\n          </div>\r\n\r\n          <div className={'tempo-slider'}>\r\n          <SimpleSlider \r\n              name={'BPM'}\r\n              init={75}\r\n              handleChange={this.setTempo} \r\n              min={this.config.tempoRange[0]}\r\n              max={this.config.tempoRange[1]}\r\n              step={this.config.tempoRange[2]}              \r\n            />\r\n          </div>\r\n  \r\n          \r\n          {/* <span onClick={()=>{this.startRhythm()}}>Play</span> */}\r\n          {/* <span onClick={()=>{this.stopRhythm()}}>Stop</span> */}\r\n          </Toolbar>\r\n\r\n          \r\n\r\n        </AppBar>\r\n\r\n        <div className={controlsClassName}>\r\n          <div className={'toolbar'}>\r\n            <ClearIcon className={'pull-right'}\r\n                onClick={()=>{this.settingsToggle()}}\r\n                \r\n              />\r\n          </div>\r\n\r\n          <Controls\r\n              classes = {classes}\r\n            config = {this.config}\r\n            setAmplitude = {this.setAmplitude}\r\n             setAttack = {this.setAttack}\r\n             setDecay = {this.setDecay}\r\n             setModAmount = {this.setModAmount}\r\n             setOsc1 = {this.setOsc1}\r\n             setMod1 = {this.setMod1}\r\n             setModRate = {this.setModRate}\r\n              title = 'grid'\r\n          />\r\n\r\n\r\n\r\n          <Controls\r\n              classes = {classes}\r\n              config = {this.configKeys}\r\n              setAmplitude = {this.setKeysAmplitude}\r\n              setAttack = {this.setKeysAttack}\r\n              setDecay = {this.setKeysDecay}\r\n              setModAmount = {this.setKeysModAmount}\r\n              setOsc1 = {this.setKeysOsc1}\r\n              setMod1 = {this.setKeysMod1}\r\n              setModRate = {this.setKeysModRate}\r\n              title = 'keyboard'\r\n          />\r\n\r\n\r\n        </div>\r\n\r\n        \r\n\r\n\r\n        <main className={mainClassName}>\r\n          {beeps}\r\n        </main>\r\n        <p className={'ptest'}>\r\n          {this.state.windowWidth} x {this.state.windowHeight}\r\n        </p>\r\n\r\n        <div id={\"keyboard-wrapper\"} className={this.state.showControls ? 'show-controls ' : ''}>\r\n          <Keyboard\r\n            config = {this.configKeys}\r\n          />\r\n        </div>\r\n        \r\n\r\n      </div>\r\n      \r\n    );\r\n  }\r\n    \r\n  \r\n}\r\n\r\n/*\r\n===================================================================================================\r\n===================================================================================================\r\n.d8888. d888888b .88b  d88. d8888b. db      d88888b      .d8888. db      d888888b d8888b. d88888b d8888b. \r\n88'  YP   `88'   88'YbdP`88 88  `8D 88      88'          88'  YP 88        `88'   88  `8D 88'     88  `8D \r\n`8bo.      88    88  88  88 88oodD' 88      88ooooo      `8bo.   88         88    88   88 88ooooo 88oobY' \r\n  `Y8b.    88    88  88  88 88~~~   88      88~~~~~        `Y8b. 88         88    88   88 88~~~~~ 88`8b   \r\ndb   8D   .88.   88  88  88 88      88booo. 88.          db   8D 88booo.   .88.   88  .8D 88.     88 `88. \r\n`8888Y' Y888888P YP  YP  YP 88      Y88888P Y88888P      `8888Y' Y88888P Y888888P Y8888D' Y88888P 88   YD \r\n===================================================================================================\r\n===================================================================================================                               \r\n*/\r\nclass SimpleSlider extends React.Component{\r\n\r\n  state = {\r\n    value: this.props.init,\r\n  };\r\n\r\n  handleChange = (event, value) => {\r\n    this.setState({ value });\r\n    this.props.handleChange(value);\r\n  };\r\n\r\n  render() {\r\n    // const { classes } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n        <div>\r\n            <p className={\"slider-label\"}>{this.props.name}</p>\r\n          <StyledSlider\r\n            className = {\"slider\"}\r\n            value={value}\r\n            min={this.props.min}\r\n            max={this.props.max}\r\n            step={this.props.step}\r\n            onChange={this.handleChange}\r\n          />\r\n        </div>\r\n      \r\n    );\r\n  }\r\n\r\n}\r\n\r\nclass Key extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      active: false,\r\n    };\r\n    this.handleDown = this.handleDown.bind(this);\r\n    this.handleUp = this.handleUp.bind(this);\r\n    this.handleOut = this.handleOut.bind(this);\r\n    this.handleEnter = this.handleEnter.bind(this);\r\n    this.beep = undefined;\r\n  }\r\n\r\n\r\n\r\n  handleDown(){\r\n    if(!this.state.active){\r\n      let config = JSON.parse(JSON.stringify(this.props.config));\r\n      config.freq = scale[this.props.freq];\r\n      this.beep = new Beep(config, scale[this.props.freq], true);\r\n      this.setState({active: true});\r\n      console.log(\"testo: \" +    config.freq);\r\n    }\r\n\r\n  }\r\n\r\n  handleUp(){\r\n    if(this.state.active){\r\n      // this.beep.kill();\r\n      this.beep.fadeOut();\r\n      this.setState({active:false});\r\n    }\r\n\r\n  }\r\n\r\n  handleOut(){\r\n    if(this.state.active){\r\n      this.beep.fadeOut();\r\n      this.setState({active:false});\r\n    }\r\n  }\r\n\r\n  handleEnter(){\r\n    if(!this.state.active && mouseDown){\r\n      this.beep = new Beep(this.props.config, this.props.freq, true);\r\n      this.setState({active: true});\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n          <>\r\n            <KeyHandler\r\n                keyEventName={KEYDOWN}\r\n                keyValue={keyboardMapping[this.props.freq]}\r\n                onKeyHandle={this.handleDown}\r\n            />\r\n            <KeyHandler\r\n                keyEventName={KEYUP}\r\n                keyValue={keyboardMapping[this.props.freq]}\r\n                onKeyHandle={this.handleUp}\r\n            />\r\n          <div className={\"beep key beep-col\"}\r\n               onMouseDown={this.handleDown} onMouseUp={this.handleUp} onMouseLeave={this.handleOut} onMouseEnter={this.handleEnter}\r\n          >\r\n            <div className={this.state.active ? \"beep-inner active\" : \"beep-inner\"}>\r\n              <div className={\"key-label\"}>{keyboardMapping[this.props.freq]}</div>\r\n            </div>\r\n\r\n          </div>\r\n          </>\r\n\r\n    );\r\n  }\r\n\r\n\r\n}\r\n\r\nclass Keyboard extends  React.Component{\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div id={\"keyboard\"}>\r\n          <Key config={this.props.config} freq={15}/>\r\n          <Key config={this.props.config} freq={14}/>\r\n          <Key config={this.props.config} freq={13}/>\r\n          <Key config={this.props.config} freq={12}/>\r\n          <Key config={this.props.config} freq={11}/>\r\n          <Key config={this.props.config} freq={10}/>\r\n          <Key config={this.props.config} freq={9}/>\r\n          <Key config={this.props.config} freq={8}/>\r\n          <Key config={this.props.config} freq={7}/>\r\n          <Key config={this.props.config} freq={6}/>\r\n          <Key config={this.props.config} freq={5}/>\r\n          <Key config={this.props.config} freq={4}/>\r\n          <Key config={this.props.config} freq={3}/>\r\n          <Key config={this.props.config} freq={2}/>\r\n          <Key config={this.props.config} freq={1}/>\r\n          <Key config={this.props.config} freq={0}/>\r\n\r\n\r\n        </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nclass Controls extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n\r\n    };\r\n  }\r\n\r\n  render(){\r\n    let osc1 = this.props.config.types.map((t)=>{\r\n      return (\r\n          <li onClick={this.props.setOsc1} className={this.props.config.waveType === t ? 'active' : 'inactive'}>\r\n            <img src={\"images/icon-\"+ t + \".png\"} name={t}/>\r\n          </li>\r\n      );\r\n    });\r\n    let mod1 = this.props.config.types.map((t)=>{\r\n      return (\r\n          <li onClick={this.props.setMod1} className={this.props.config.modType === t ? 'active' : 'inactive'}>\r\n            <img src={\"images/icon-\"+ t + \".png\"} name={t}/>\r\n          </li>\r\n      );\r\n    });\r\n\r\n    return(\r\n        <div className={this.props.classes.sliderWrap + ' slider controls-wrapper'}>\r\n          <div className={'controls-title'}>{this.props.title}</div>\r\n          <p className={'slider-label'}>waveform</p>\r\n          <ul className={'wave-buttons'}>\r\n            {osc1}\r\n          </ul>\r\n\r\n\r\n          <SimpleSlider\r\n              name={'amplitude'}\r\n              init={this.props.config.amplitude}\r\n              handleChange={this.props.setAmplitude}\r\n              min={0}\r\n              max={this.props.config.amplitudeRange[1]}\r\n              step={this.props.config.amplitudeRange[2]}\r\n          />\r\n\r\n          <SimpleSlider\r\n              name={'attack'}\r\n              init={this.props.config.attack}\r\n              handleChange={this.props.setAttack}\r\n              min={0}\r\n              max={this.props.config.attackRange[1]}\r\n              step={this.props.config.attackRange[2]}\r\n          />\r\n\r\n          <SimpleSlider\r\n              name={'decay'}\r\n              init={this.props.config.decay}\r\n              handleChange={this.props.setDecay}\r\n              min={0}\r\n\r\n              max={this.props.config.decayRange[1]}\r\n              step={this.props.config.decayRange[2]}\r\n          />\r\n          <p className={'slider-label'}>modulation waveform</p>\r\n          <ul className={'wave-buttons'}>\r\n            {mod1}\r\n          </ul>\r\n\r\n\r\n          <SimpleSlider\r\n              name={'modulation amount'}\r\n              init={131}\r\n              handleChange={this.props.setModAmount}\r\n              min={0}\r\n              max={this.props.config.modAmountRange[1]}\r\n              step={this.props.config.modAmountRange[2]}\r\n          />\r\n\r\n          <SimpleSlider\r\n              name={'modulation rate'}\r\n              init={50}\r\n              handleChange={this.props.setModRate}\r\n              min={0}\r\n              max={this.props.config.modFrequencyRange[1]}\r\n              step={this.props.config.modFrequencyRange[2]}\r\n          />\r\n\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n/*\r\n===================================================================================================\r\n===================================================================================================\r\nd8888b. d88888b d88888b d8888b. \r\n88  `8D 88'     88'     88  `8D \r\n88oooY' 88ooooo 88ooooo 88oodD' \r\n88~~~b. 88~~~~~ 88~~~~~ 88~~~   \r\n88   8D 88.     88.     88      \r\nY8888P' Y88888P Y88888P 88                                \r\n===================================================================================================\r\n===================================================================================================*/\r\n/** \r\n * makes a beep sound\r\n * \r\n * config object has the following: \r\n * attack, decay, frequency, type\r\n * \r\n * @param {*} config - settings for this track\r\n * @param {*} freq - frequency adjustment for this beat\r\n * @param {boolean} keyboard - if this value isn't undefined and is true, this\r\n *                  beep will be sustained until kill is called on it.\r\n */\r\n\r\nfunction Beep(config, freq, keyboard) {\r\n  // var keyboard = false;\r\n\r\n\r\n  var attack = config.attack,\r\n      decay = config.decay,\r\n      gain = audio.createGain(),\r\n      osc = audio.createOscillator(),\r\n      // biquadFilter = audio.createBiquadFilter(),\r\n      maxGain = config.amplitude,\r\n      modAmount  = config.modAmount,\r\n      isKeyboard = false;\r\n\r\n  if (keyboard !== undefined && keyboard){\r\n    // decay = 1000000;\r\n    console.log(\"config.decay\");\r\n    console.log(config.decay);\r\n    isKeyboard = true;\r\n  }\r\n\r\n  // biquadFilter.connect(gain);\r\n  gain.connect(audio.destination);\r\n  gain.gain.setValueAtTime(0, audio.currentTime);\r\n  gain.gain.linearRampToValueAtTime(maxGain, audio.currentTime + attack / 1000);\r\n\r\n  // only implement decay for beats, not keys. Keys are handled below\r\n  if(keyboard === undefined || !keyboard){\r\n    gain.gain.linearRampToValueAtTime(0, audio.currentTime + decay / 1000);\r\n  }\r\n\r\n\r\n  // biquadFilter.type = \"lowshelf\";\r\n  // biquadFilter.frequency.setValueAtTime(5000, audio.currentTime);\r\n  // biquadFilter.gain.setValueAtTime(100, audio.currentTime);\r\n\r\n\r\n  // console.log(\"config: \" + config.frequency + \", freq: \" + freq);\r\n  osc.frequency.value = freq;\r\n  osc.type = config.waveType;\r\n  console.log(osc.type);\r\n  osc.connect(gain);\r\n  osc.start(0);\r\n\r\n  if (config.modType !== 'none'){\r\n      var gain2 = audio.createGain();\r\n      gain2.gain.value = modAmount;\r\n      gain2.connect(osc.frequency);\r\n      var osc2 = audio.createOscillator();\r\n      osc2.type = config.modType;\r\n      osc2.frequency.value = config.modFrequency;\r\n      osc2.connect(gain2);\r\n      osc2.start(0);\r\n\r\n  }\r\n  if(!isKeyboard){\r\n    setTimeout(function() {\r\n      osc.stop(0);\r\n      osc.disconnect(gain);\r\n      gain.disconnect(audio.destination);\r\n      if (config.modType !== 'none'){\r\n        osc2.stop(0);\r\n        gain2.disconnect(osc.frequency);\r\n      }\r\n    }, decay);\r\n  }\r\n\r\n\r\n  this.kill = ()=>{\r\n    osc.stop(0);\r\n    osc.disconnect(gain);\r\n    gain.disconnect(audio.destination);\r\n    if (config.modType !== 'none'){\r\n      osc2.stop(0);\r\n      gain2.disconnect(osc.frequency);\r\n    }\r\n    console.log(\"kill called\");\r\n  };\r\n\r\n  this.fadeOut = () =>{\r\n    gain.gain.linearRampToValueAtTime(0, audio.currentTime + config.decay / 1000);\r\n    setTimeout(this.kill, config.decay);\r\n    // gain.gain.linearRampToValueAtTime(0, audio.currentTime + decay / 1000);\r\n  };\r\n\r\n\r\n}\r\n\r\n\r\n\r\nApp.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\n\r\n/*\r\n===================================================================================================\r\n===================================================================================================\r\ndb    db d888888b d888888b db      .d8888. \r\n88    88 `~~88~~'   `88'   88      88'  YP \r\n88    88    88       88    88      `8bo.   \r\n88    88    88       88    88        `Y8b. \r\n88b  d88    88      .88.   88booo. db   8D \r\n~Y8888P'    YP    Y888888P Y88888P `8888Y' \r\n===================================================================================================\r\n===================================================================================================                               \r\n*/\r\n\r\n/**\r\n * Creates an empty 2 dimensional array representing the rhythm\r\n * In the UI, beats are the columns, notes the rows\r\n */\r\nfunction createEmptyRhythm(numberBeats, numberNotes){\r\n  let arr = []\r\n  for(let i = 0; i < numberBeats; i++){\r\n    let column = [];\r\n    for(let e = 0; e < numberNotes; e++){\r\n      column.push(false);\r\n    }\r\n    arr.push(column);\r\n  }\r\n  return arr;\r\n}\r\n\r\nfunction calculateModFrequency(v){\r\n  return (v * (.001*v));\r\n}\r\nfunction calculateModAmount(v){\r\n  return (v * (.001*v));\r\n}\r\n\r\nfunction convertTempo(t){\r\n  return 15000/t;\r\n}\r\n\r\nexport default withStyles(styles)(App);\r\n\r\n\r\n\r\nlet mouseDown = false;\r\ndocument.body.onmousedown = function() {\r\n  mouseDown = true;\r\n  console.log(mouseDown);\r\n};\r\ndocument.body.onmouseup = function() {\r\n  mouseDown = false;\r\n  console.log(mouseDown);\r\n};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<div><App /></div>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}