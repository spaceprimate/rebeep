(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,n){e.exports=n(273)},180:function(e,t,n){},181:function(e,t,n){},273:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(18),c=n.n(o),s=(n(180),n(41)),r=n(42),l=n(44),m=n(43),d=n(45),u=(n(181),n(75)),h=n.n(u),p=n(76),g=n.n(p),f=n(78),y=n.n(f),v=n(77),w=n.n(v),x=n(79),k=n(74),b=n.n(k),E=n(28),R=n.n(E),C=n(29),A=n.n(C),T=n(7),j=n(19),F=new window.AudioContext,O=[830.609,739.989,622.254,554.365,466.164,415.305,369.994,311.127,277.183,233.082,207.652,184.997,155.563,138.591],q=Object(T.withStyles)({thumb:{height:18,width:18,backgroundColor:"#000",boxShadow:"orange 0px 0px 11px 1px",border:"1px solid #FFA500","&$focused, &:hover":{boxShadow:"0px 0px 0px ".concat(8,"px ",Object(j.fade)("#FFA500",.16))},"&$activated":{boxShadow:"0px 0px 0px ".concat(12,"px ").concat(Object(j.fade)("#FFA500",.16))},"&$jumped":{boxShadow:"0px 0px 0px ".concat(12,"px ").concat(Object(j.fade)("#FFA500",.16))}},track:{backgroundColor:"#FFA500",height:3},trackBefore:{boxShadow:"orange -7px 0px 11px 1px"},trackAfter:{backgroundColor:"#d0d7dc"},focused:{},activated:{},jumped:{}})(b.a),B=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).setAmplitude=function(e){n.config.amplitude=e},n.setAttack=function(e){n.config.attack=e},n.setDecay=function(e){n.config.decay=e},n.setAmplitude=function(e){n.config.amplitude=e},n.setModRate=function(e){n.config.modFrequency=e*(.005*e),console.log(e)},n.setTempo=function(e){n.config.tempo=e,console.log(n.config.tempo)},n.setModAmount=function(e){n.config.modAmount=e*(.001*e),console.log(e)},n.handleResize=function(){return n.setState({windowHeight:window.innerHeight,windowWidth:window.innerWidth})},n.beep=function(e){var t={attack:n.config.attack,decay:n.config.decay,frequency:e,type:"sine",amplitude:n.config.amplitude,modType:"sine",modFrequency:n.config.modFrequency,modAmount:n.config.modAmount};new N(t,t.frequency);console.log("beeped")},n.state={rythm:W(16,12),curBeat:0,isPlaying:!1,amplitude:50,showControls:!1,windowHeight:void 0,windowWidth:void 0},n.timerId=null,n.config={attack:10,attackRange:[0,2e3,10],decay:1100,decayRange:[0,2e3,10],frequency:440,type:"sine",amplitude:.5,amplitudeRange:[0,.8,.01],modType:"sine",modFrequency:22,modFrequencyRange:[0,200,1],modAmount:7.2,modAmountRange:[0,600,1],tempo:75,tempoRange:[1,300,1]},n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"startRythm",value:function(){var e=this;this.state.isPlaying||(this.timerId=setTimeout(function(){return e.playBeat()},I(this.config.tempo))),this.setState({isPlaying:!0})}},{key:"stopRythm",value:function(){clearInterval(this.timerId),this.setState({curBeat:0,isPlaying:!1})}},{key:"playBeat",value:function(){var e=this;if(this.state.rythm[this.state.curBeat].forEach(function(t,n){t&&e.beep(O[n])}),this.state.curBeat<15){var t=this.state.curBeat+1;this.setState({curBeat:t})}else this.setState({curBeat:0});this.timerId=setTimeout(function(){return e.playBeat()},I(this.config.tempo))}},{key:"componentDidMount",value:function(){this.handleResize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"settingsToggle",value:function(){this.setState({showControls:!this.state.showControls})}},{key:"setBeat",value:function(e,t){var n=this.state.rythm.slice();n[e][t]=!this.state.rythm[e][t],this.setState({myRythm:n})}},{key:"render",value:function(){var e=this,t=this,n=this.props.classes,a=this.state.rythm.map(function(n,a){return i.a.createElement("div",{className:Math.ceil((a+1)/4)%2===0?"beep-col even":"beep-col odd",key:a},n.map(function(n,o){var c=a===e.state.curBeat&&e.state.isPlaying?"active":"inactive";return c+=e.state.rythm[a][o]?" on":" off",i.a.createElement("div",{className:"beep",onClick:function(){return t.setBeat(a,o)},key:o},i.a.createElement("div",{className:"beep-inner "+c}))}))});return i.a.createElement("div",null,i.a.createElement(R.a,{className:"appbar"},i.a.createElement(A.a,{className:"toolbar"},i.a.createElement("div",{className:"playstop"},i.a.createElement("span",{hidden:this.state.isPlaying},i.a.createElement(h.a,{onClick:function(){e.startRythm()}})),i.a.createElement("span",{hidden:!this.state.isPlaying},i.a.createElement(g.a,{onClick:function(){e.stopRythm()},hidden:!this.state.isPlaying})),i.a.createElement("span",{hidden:this.state.showControls},i.a.createElement(w.a,{onClick:function(){e.settingsToggle()}})),i.a.createElement("span",{hidden:!this.state.showControls},i.a.createElement(y.a,{onClick:function(){e.settingsToggle()}})))),i.a.createElement("div",{className:"controls",hidden:!this.state.showControls},i.a.createElement("div",{className:n.sliderWrap+" slider"},i.a.createElement(S,{name:"amplitude",init:this.config.amplitude,handleChange:this.setAmplitude,min:0,max:this.config.amplitudeRange[1],step:this.config.amplitudeRange[2]}),i.a.createElement(S,{name:"attack",init:this.config.attack,handleChange:this.setAttack,min:0,max:this.config.attackRange[1],step:this.config.attackRange[2]}),i.a.createElement(S,{name:"decay",init:this.config.decay,handleChange:this.setDecay,min:0,max:this.config.decayRange[1],step:this.config.decayRange[2]}),i.a.createElement(S,{name:"modulation amount",init:131,handleChange:this.setModAmount,min:0,max:this.config.modAmountRange[1],step:this.config.modAmountRange[2]}),i.a.createElement(S,{name:"modulation rate",init:50,handleChange:this.setModRate,min:0,max:this.config.modFrequencyRange[1],step:this.config.modFrequencyRange[2]}),i.a.createElement(S,{name:"tempo",init:75,handleChange:this.setTempo,min:this.config.tempoRange[0],max:this.config.tempoRange[1],step:this.config.tempoRange[2]})))),i.a.createElement("main",{className:"main"},a),i.a.createElement("p",{className:"ptest"},this.state.windowWidth," x ",this.state.windowHeight))}}]),t}(i.a.Component),S=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={value:n.props.init},n.handleChange=function(e,t){n.setState({value:t}),n.props.handleChange(t)},n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.value;return i.a.createElement("div",null,i.a.createElement(x.a,null,this.props.name,": ",e),i.a.createElement(q,{className:"slider",value:e,min:this.props.min,max:this.props.max,step:this.props.step,onChange:this.handleChange}))}}]),t}(i.a.Component);function N(e,t){var n=e.attack,a=e.decay,i=F.createGain(),o=F.createOscillator(),c=e.amplitude,s=e.modAmount;if(i.connect(F.destination),i.gain.setValueAtTime(0,F.currentTime),i.gain.linearRampToValueAtTime(c,F.currentTime+n/1e3),i.gain.linearRampToValueAtTime(0,F.currentTime+a/1e3),o.frequency.value=e.frequency+t,o.type=e.type,o.connect(i),o.start(0),"none"!==e.modType){var r=F.createGain();r.gain.value=s,r.connect(o.frequency);var l=F.createOscillator();l.type=e.modType,l.frequency.value=e.modFrequency,l.connect(r),l.start(0)}setTimeout(function(){o.stop(0),o.disconnect(i),i.disconnect(F.destination),"none"!==e.modType&&(l.stop(0),r.disconnect(o.frequency))},a)}function W(e,t){for(var n=[],a=0;a<e;a++){for(var i=[],o=0;o<t;o++)i.push(!1);n.push(i)}return n}function I(e){return 15e3/e}var P=Object(T.withStyles)({Typography:{color:"orange"},text:{color:"orange"},sliderWrap:{width:300},slider:{padding:"22px 0px"},toolbarIcon:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"}})(B);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement("div",null,i.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[175,1,2]]]);
//# sourceMappingURL=main.1b14d629.chunk.js.map